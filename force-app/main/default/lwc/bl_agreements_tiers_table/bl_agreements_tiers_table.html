<template> 
    <!-- Section 1 -->

<!--     <div>{recordId} - {producto} -{productLevel1} - {productLevel2} -{customer}- {customerTier} - {additionalDiscount} - {unitPrice}- </div>
 -->  <!--   <div if:true={isLoaded} class="cstm-spinner">
		<lightning-spinner alternative-text="Loading..."></lightning-spinner>
	</div>
                  
    
    <div class="slds-m-around--xx-large container-fluid">
        <div class="slds-float_right slds-p-bottom_small">
            
                <lightning-button-icon icon-name="utility:add"  size="large" variant="brand" alternative-text="Add" onclick={addRow}> </lightning-button-icon>
            
        </div>

        <div class="container-fluid">        
            <table class="slds-table slds-table_bordered slds-table_cell-buffer"> 

                <thead>
                    <tr class="slds-line-height_reset">
                       
            
                        <th scope="col">
                            <div class="slds-truncate" title="Lower Band">Min</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate" title="Upper Bound">Max</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate" title="Price">Price</div>
                        </th>
                    
                        <th scope="col">
                            <div class="slds-truncate" title="Action"></div>
                        </th>
                    </tr>
                </thead> 
               


              
                    


              
                <tbody>
                    <template for:each={tierList} for:item="tier" for:index="indx">
                        <tr key={tier.key} id={tier.key}> 
                          
                  
                            <td>
                                <lightning-input data-id={indx} variant = "label-hidden"  onchange={handleLowerBChange}></lightning-input>
                            </td>
                            <td>
                                <lightning-input data-id={indx} variant = "label-hidden"  onchange={handleUpperBChange}></lightning-input>                        
                            </td>
                            <td>
                                <lightning-input data-id={indx} variant = "label-hidden"  onchange={handlePriceChange}></lightning-input>                        
                             </td>
                         
                            <td>
                                <lightning-button-icon icon-name="utility:delete"
																		  data-id={indx}       
																		  alternative-text="Delete"     
																		  class="slds-m-left_xx-small"
																		  onclick={removeRow} 
																		  title="Delete"></lightning-button-icon>
                            </td>
                        </tr>
                    </template>
                     
                </tbody>
            </table>
       

            
            
            <div class="slds-align_absolute-center slds-p-top_small">                
                <lightning-button name="Save" label="Save" onclick={saveRecord} ></lightning-button>
            </div>
        </div>
    </div> -->





    
         <!--    <div class="slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none modalBodyy">
                 <template if:true={isLoading}>
                    <lightning-spinner alternative-text="Loading" size="medium" class="spinnerClass"></lightning-spinner>
                 </template>
                 <lightning-card>
                     <lightning-button label="Add Row" slot="actions" icon-name="utility:add" onclick={addRow}></lightning-button>
                    <div class="slds-m-around_medium">
                        <table class="slds-table slds-table_cell-buffer slds-table_bordered" aria-labelledby="element-with-table-label other-element-with-table-label">
                            <thead>
                                <tr class="slds-line-height_reset">
                                    <th class="" scope="col">
                                        <div class="slds-truncate" title="Lower Bound'">Min</div>
                                    </th>
                                    <th class="" scope="col">
                                        <div class="slds-truncate" title="Upper Bound">Max</div>
                                    </th>
                                    <th class="" scope="col">
                                        <div class="slds-truncate" title="Price">Price</div>
                                    </th>
                                    <th  scope="col">
                                        <div class="slds-truncate delete" title="Delete"></div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <template for:each={records} for:item="obj">
                                    <tr class="inputRows" key={obj.Id}>
                                        <th scope="row" class='slds-truncate '>
                                            <lightning-input type="number" class="fields" variant="label-hidden" label="Lower Bound" name="Lower Bound" min="0" value={obj.SBQQ__LowerBound__c} data-id={obj.Id} onchange={updateValues}></lightning-input>
                                        </th>
                                        <th >
                                            <lightning-input type="number" class="fields" variant="label-hidden" label="Upper Bound" name="Upper Bound" min="0" value={obj.SBQQ__UpperBound__c} data-id={obj.Id} onchange={updateValues}></lightning-input>
                                        </th>
                                        <th >
                                           <lightning-input type="number" class="fields" variant="label-hidden" label="Price" name="Price" min="0" value={obj.SBQQ__Price__c} formatter="currency" currency-code="USD" currency-display-as="code" data-id={obj.Id} onchange={updateValues}></lightning-input>
                                        </th>
                                        <th >
                                            <lightning-button-icon icon-name="action:delete"  alternative-text="Delete" title="Delete" data-id={obj.Id} onclick={handleDeleteAction}></lightning-button-icon>
                                        </th>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>
                </lightning-card>
            </div>
            <footer class="slds-modal__footer">
                <lightning-button variant="neutral" label="Cancel" onclick={updateRecordView}></lightning-button> &nbsp;
                <lightning-button variant="brand" label="Save" onclick={handleSaveAction} disabled={isDisable}></lightning-button>
            </footer>

 -->
<!--  <template if:true={isLoading}>
     <lightning-spinner alternative-text="Loading" size="medium" class="slds-spinner_container"></lightning-spinner>
    </template> -->
               
<!--        <lightning-input data-id="toggle2" type="toggle" label="TOGGLE2" checked={checked} message-toggle-active="" message-toggle-inactive=""></lightning-input> <br/>
 -->      
 <lightning-spinner if:false={loadTable} class="slds-spinner_container" alternative-text="Loading" size="medium"></lightning-spinner>
 
 
     
 <!--  ID : {datos}
 ID new : {newId}
 discountNombre : {discountNombre}
 -->
 <!-- prodName : {prodName}
 oldRecordId : {oldRecordId} -->
 <div class="slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none modalBodyy">
    <template if:true={loadTable}>
        <span>
            <lightning-input type="toggle" onchange={changeToggle}  checked={checked}>
           </lightning-input>&nbsp; 
           <lightning-helptext  content="Activate this in order to use those prices"></lightning-helptext>
           </span>
 <lightning-datatable 
 key-field="SBQQ__LowerBound__c"
 data={data} 
 hide-checkbox-column="true"
 columns={columns} 
 onsave={handleSaveEdition}
 draft-values={draftValues}>
 </lightning-datatable>
 <footer class="slds-modal__footer">
     <lightning-button variant="brand" label="Save Tier" onclick={saveDS}></lightning-button> &nbsp;
     <lightning-button variant="neutral" label="Cancel" onclick={handleCancel} disabled={isDisable}></lightning-button>
     
    </footer>
</template>
</div>
</template>